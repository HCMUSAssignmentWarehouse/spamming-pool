<!DOCTYPE html>
<html>
	<head>
		<title>User Information</title>
		<meta charset="utf-8">
	</head>
	<body style="background-color: #BBDEFB">

		<div style="width: 100%; text-align: center;">
			<button id="user_infor" onclick="dashboard()" style="width: 15%; height: 50px; background-color: #1A5276; font-size: 20px; color: rgb(255,255,255); border-style: none;">Dashboard</button>
			<button id="user_infor" onclick="user_info()" style="width: 15%; height: 50px; background-color: #1A5276; font-size: 20px; color: rgb(255,255,255); border-style: none;">User Information</button>
			<button id="withdraw" onclick="withdraw()" style="width: 15%; height: 50px; background-color: #1A5276; font-size: 20px; color: rgb(255,255,255); border-style: none;">Withdraw</button>
			<button id="transfer" onclick="transfer()" style="width: 15%; height: 50px; background-color: #1A5276; font-size: 20px; color: rgb(255,255,255); border-style: none;">transfer</button>
			<button id="internal_transfer" onclick="internal_transfer()" style="width: 15%; height: 50px; background-color: #1A5276; font-size: 20px; color: rgb(255,255,255); border-style: none;">internal_transfer</button>
			<button id="transfer" onclick="history()" style="width: 15%; height: 50px; background-color: #1A5276; font-size: 20px; color: rgb(255,255,255); border-style: none;">history</button>
		</div>

		<div class="container" id="account" style="text-align: center; margin-top: 50px;">		
		</div>
		
	<script src="/assets/jquery-3.1.1.min.js"></script>
	<script type="text/javascript">
		$(function() {
			$.ajax({
		          url: 'http://localhost:3000/account/isLogined',
		          dataType: 'json',
		          timeout: 10000
		        }).done(function(data){
		          if (data.message == "fail"){
		              alert("You need to login first!");
		              window.location = `./`;
		          }
		        });

			$.ajax({
				url: 'http://localhost:3000/account/user_info',
				dataType: 'json',
          		timeout: 10000
			}).done(function(data){
				// console.log(data);
				var expiredDate = data.expired_date.toString();
				var tr = '<h1>'+data.account_name+'</h1>' 
				+'<h1>'+data.account_id+'</h1>' +						
						'<h2> Remain money: '+data.balance+'</h2>'+						
						'<h2> Expired date: '+expiredDate+'</h2>' ;
									
					
					$('#account').append(tr);
			});
		});
	</script>
	<script type="text/javascript">
		function withdraw(){
			window.location = `./withdraw`;
		}
	</script>

	<script type="text/javascript">
			function dashboard(){
				window.location = `./dashboard`;
			}
		</script>

	<script type="text/javascript">
		function history(){
			window.location = `./history`;
		}
	</script>

	<script type="text/javascript">
		function user_info(){
			window.location = `./user_info`;
		}
	</script>

<script type="text/javascript">
		function internal_transfer(){
			window.location = `./internal_transfer`;
		}
	</script>

	<script type="text/javascript">
		function transfer(){
			window.location = `./transfer`;
		}
	</script>
</body>
</html>